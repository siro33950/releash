# agent-scrutiny: コンセプト

## 何をするツールか

CLIベースのAIエージェント（Claude Code, Aider等）の出力を、視覚的にレビューし、軽微な修正を加え、再度エージェントに指示を戻すためのデスクトップアプリ。

## 解決する問題

CLIエージェントは自由度が高い。`--dangerously-skip-permissions`で全権委任したり、シェルコマンドを直接実行したり、Cursor等のエディタ統合型AIではできないハックが使える。一方で、CLIだけでは変更の全体像が見づらく、細部の手直しがやりにくい。

VS Codeに戻って確認すればいいが、それなら最初からCursorを使えばいい。CLIエージェントの機動力と、視覚的レビュー＋編集の体験を両立させるツールが存在しない。

## ワークフロー

1. **Generate:** ターミナルでエージェントに指示を出し、放置する
2. **Scrutinize:** 戻ってきて、Diffビューアで変更内容を確認する
3. **Sculpt:** 軽微な修正（変数名、設定値、書式等）はその場でエディタで直す。大きな修正はレビュー画面から指示を書いてエージェントに送り返す
4. **Repeat:** エージェントが修正したら、またDiffを確認する。納得したらコミット

## 設計思想

**Gitが唯一の状態管理。** 独自のデータベースを持たず、全ての状態をファイルシステムとGitステータスに依存させる。他のツール（VS Code等）と完全に共存できる。

**エージェントに干渉しない。** エージェントの出力をパースしたり、状態を検知したりしない。ターミナルは「黒い箱」として扱い、人間がキーボードで打つのと同じ方法で文字列を送り込むだけ。どのエージェントでも動く。

**エディタではなくレビューツール。** 本格的な開発はVS Codeに任せる。このツールの役割は「エージェントの出力を確認し、仕上げる」ステップ。
